{% extends 'dashboard/base.html' %}

{% block title %}Clientes{% endblock %}

{% block content %}
<h3 class="alert alert-secondary text-center">Lista de Cliente</h3>

{% if lista %}
<div class="table-responsive">
  <table class="table table-hover table-bordered">
    <thead class="table-primary">
      <tr>
        <th class="col-1">Rut</th>
        <th class="col">Nombre</th>
        <th class="col">Teléfono</th>
        <th class="col">Email</th>
        <th class="col">Fecha Creación</th>
        <th class="col-1"></th>
      </tr>
    </thead>
    <tbody>
      {% for item in lista %}
      <tr>
        <td>{{ item.rut }}</td>
        <td>{{ item.nombre }}</td>
        <td>{{ item.telefono }}</td>
        <td>{{ item.email }}</td>
        <td>{{ item.fecha_creacion }}</td>
        <td nowrap>
          <a href="#" class="btn btn-warning">Editar</a>
          <a href="#" class="btn btn-danger">Eliminar</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<script>
  const eliminar = (id) => {
    Swal.fire({
      title: '¿Está seguro de eliminar el cliente?',
      showDenyButton: true,
      icon: 'error',
      confirmButtonText: 'Eliminar',
      denyButtonText: 'No'
    }).then((result) => {
      if (result.isConfirmed) {
        window.location.href = '/producto/eliminarproducto/' + id
      }
    })
  }
</script>
{% else %}
<p class="alert alert-warning">No hay clientes registrados</p>
{% endif %}
{% endblock %}